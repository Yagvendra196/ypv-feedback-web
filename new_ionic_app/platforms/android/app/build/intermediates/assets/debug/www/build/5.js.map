{"version":3,"sources":["../../src/pages/change-password/change-password.module.ts","../../src/pages/change-password/change-password.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePasswordPage } from './change-password';\n\n@NgModule({\n  declarations: [\n    ChangePasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangePasswordPage),\n  ],\n})\nexport class ChangePasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.module.ts","import {\n    Component\n} from '@angular/core';\nimport {\n    IonicPage,\n    NavController,\n    NavParams,\n    LoadingController,\n    Platform,\n    MenuController,\n    AlertController\n} from 'ionic-angular';\nimport {\n    FormBuilder,\n    FormGroup,\n    Validators\n} from '@angular/forms';\nimport 'rxjs/add/operator/catch';\nimport {\n    Headers,\n    Http\n} from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport * as Constants from '../../app/constants';\n\n\n\n/**\n * Generated class for the ChangePasswordPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-change-password',\n  templateUrl: 'change-password.html',\n})\nexport class ChangePasswordPage {\n\n\tchangePwdForm: FormGroup;\n\tdevice_id: string;\n\trole_id: number;\n\tdevice_type: string;\n\tbase_url: string;\n\tversion_name: string;\n\tdataFound:boolean;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public formBuilder: FormBuilder, public http: Http, public loadingCtrl: LoadingController, public menu: MenuController,private alertCtrl: AlertController) {\n\n\n\tthis.changePwdForm = formBuilder.group({\n\t\tnew_password: ['', Validators.required],\n\t\tconfirm_new_password: ['', Validators.required],\n\t});\n\n\tthis.device_id = Constants.device_id;\n    this.role_id = Constants.role_id;\n    this.base_url = Constants.wsBaseUrl;\n    this.version_name = Constants.versionName;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChangePasswordPage');\n  }\n\n  doChangePwd(){\n\n  \tconst loading = this.loadingCtrl.create({\n          content: 'Please wait...'\n        });\n\n  \tlet new_password = this.changePwdForm.value.new_password;\n  \tlet confirm_new_password = this.changePwdForm.value.confirm_new_password;\n\n\tvar url = this.base_url + 'userServices/changePassword';\n\tlet headers = new Headers();\n\theaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n\n\tlet httpBody = \"access_token=\" + localStorage.getItem('auth_token') + \"&current_password=IGNORE\" + \"&role_id=\"+ this.role_id + \"&device_type=\" + localStorage.getItem('device_type') + \"&new_password=\" + new_password + \"&device_id=\" + this.device_id + \"&confirm_new_password=\" + confirm_new_password;\n\n\tthis.http.post(url, httpBody, {\n          headers: headers\n      })\n      .subscribe(\n          data => {\n              let responseData = data[\"_body\"];\n              var obj = JSON.parse(responseData)\n              if(obj.response == 'S'){\n                loading.dismiss();\n                this.showSuccessAlert();\n                this.dataFound = true;\n              }else{\n                this.dataFound = false;\n              }\n          }, error => {\n              console.log(error);\n          }\n      );\n  }\n\n   showSuccessAlert() {\n    let basicAlert = this.alertCtrl.create({\n      title: 'Success',\n      subTitle: 'Password Change Successfully.',\n      buttons: ['OK']\n    });\n    basicAlert.present();\n  }\n  showErrorAlert() {\n    let basicAlert = this.alertCtrl.create({\n      title: 'Error',\n      subTitle: 'Error in network, Please try again later!.',\n      buttons: ['OK']\n    });\n    basicAlert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.ts"],"sourceRoot":""}